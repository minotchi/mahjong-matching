{% extends "./_base.html" %}
{% block content %}
    {% load crispy_forms_tags %}
    <div class="container">
        <div class="row mb-3"></div>
        <div class="container">
            <div class="col-12">
            </div>
        </div>

        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">押し引き判定（副露 vs リーチ）</h5>
            </div>

            {% if cannot_judge %}
            <div class="text-center" style="margin:10px;">
                <div class="alert alert-danger">
                    <strong>判定できません</strong>
                </div>
            </div>
            {% endif %}

            {% if judge %}
            <div class="text-center" style="margin:10px;">
                {% if should_push %}
                <div class="alert alert-success">
                    <strong>押し！</strong> 要求打点 : {{ required_point }}点
                </div>
                {% else %}
                <div class="alert alert-danger">
                    <strong>降り！</strong> 要求打点 : {{ required_point }}点
                </div>
                {% endif %}
            </div>
            {% endif %}

            <form id="filter" method="get">
                <div class="modal-body">
                    <div id="div_id_point" class="form-group"> <label for="id_point" class="col-form-label ">
                            打点（供託1000点を含む）
                        </label>
                        <div class="">
                            <select name="point" class="nullbooleanselect form-control" id="point">
                                <option value="2000" {% if 2000 == point %} selected{% endif %}>30符 1翻（子 : 2000点　親 : 2500点）</option>
                                <option value="3000" {% if 3000 == point %} selected{% endif %}>30符 2翻（子 : 3000点　親 : 3900点）</option>
                                <option value="4900" {% if 4900 == point %} selected{% endif %}>30符 3翻（子 : 4900点　親 : 6800点）</option>
                                <option value="8700" {% if 8700 == point %} selected{% endif %}>30符 4翻（子 : 8700点　親 : 12600点）</option>
                            </select>
                        </div>
                    </div>

                    <div id="div_id_is_ryokei" class="form-group">
                        <label for="is_ryokei" class="col-form-label ">
                            待ち
                        </label>
                        <div class="">
                            <select name="is_ryokei" class="nullbooleanselect form-control" id="is_ryokei">
                                <option value="1" {% if 1 == is_ryokei %} selected{% endif %}>良形</option>
                                <option value="0" {% if 0 == is_ryokei %} selected{% endif %}>愚形</option>
                            </select>
                        </div>
                    </div>

                    <div id="div_id_hoju_rate" class="form-group"> <label for="id_hoju_rate" class="col-form-label ">
                            放銃率
                        </label>
                        <div class="">
                            <select name="hoju_rate" class="nullbooleanselect form-control" id="id_hoju_rate">
                                <option value="5" {% if 5 == hoju_rate %} selected{% endif %}>5%（例 : スジ9本 外側28）</option>
                                <option value="10" {% if 10 == hoju_rate %} selected{% endif %}>10%（例 : スジ9本 無スジ28）</option>
                                <option value="15" {% if 15 == hoju_rate %} selected{% endif %}>15%（例 : スジ12本 無スジ28）</option>
                                <option value="20" {% if 20 == hoju_rate %} selected{% endif %}>20%（例 : スジ14本 無スジ28）</option>
                                <option value="25" {% if 25 == hoju_rate %} selected{% endif %}>25%（例 : スジ16本 無スジ28）</option>
                            </select>
                        </div>
                    </div>

                    <div id="div_id_junme" class="form-group"> <label for="id_junme" class="col-form-label ">
                            順目
                        </label>
                        <div class="">
                            <select name="junme" class="nullbooleanselect form-control" id="junme">
                                <option value="8" {% if 8 == junme %} selected{% endif %}>8順目</option>
                                <option value="11" {% if 11 == junme %} selected{% endif %}>11順目</option>
                                <option value="14" {% if 14 == junme %} selected{% endif %}>14順目</option>
                            </select>
                        </div>
                    </div>

                    <div id="div_id_you_are_parent" class="form-group"> <label for="id_you_are_parent" class="col-form-label ">
                            自分
                        </label>
                        <div class="">
                             <select name="you_are_parent" class="nullbooleanselect form-control" id="id_you_are_parent">
                                <option value="0" {% if 0 == you_are_parent %} selected{% endif %}>子</option>
                                <option value="1" {% if 1 == you_are_parent %} selected{% endif %}>親</option>
                            </select>
                        </div>
                    </div>

                    <div id="div_id_oponent_is_parent" class="form-group"> <label for="id_oponent_is_parent" class="col-form-label ">
                            相手
                        </label>
                        <div class="">
                            <select name="oponent_is_parent" class="nullbooleanselect form-control" id="id_oponent_is_parent">
                                <option value="0" {% if 0 == oponent_is_parent %} selected{% endif %}>子</option>
                                <option value="1" {% if 1 == oponent_is_parent %} selected{% endif %}>親</option>
                            </select>
                        </div>
                    </div>

                    <div id="div_id_is_dora" class="form-group"> <label for="id_is_dora" class="col-form-label ">
                            一発 or ドラ
                        </label>
                        <div class="">
                            <select name="is_dora" class="nullbooleanselect form-control" id="id_oponent_is_parent">
                                <option value="0" {% if 0 == is_dora %} selected{% endif %}>No</option>
                                <option value="1" {% if 1 == is_dora %} selected{% endif %}>Yes</option>
                            </select>
                        </div>
                    </div>

                    <!-- {{ filter.form|crispy }} -->
                </div>
            </form>
            <div class="modal-footer">
                <button type="submit" class="btn btn-secondary btn-block" form="filter">判定</button>
            </div>
        </div>
    </div>
{% endblock %}
